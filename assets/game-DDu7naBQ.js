import"./style-B-tB7G6t.js";let y=3,L=.2,s=document.querySelector(".character-bird"),c=document.querySelector("#characterBird"),h=document.querySelector(".container"),r=s.getBoundingClientRect();h.getBoundingClientRect();let i=document.querySelector(".score_val"),p=document.querySelector(".message"),w=document.querySelector(".score_title"),n="Start";c.style.display="none";p.classList.add("messageStyle");document.addEventListener("keydown",l=>{l.key=="Enter"&&n!="Play"&&(document.querySelectorAll(".showPipe").forEach(a=>{a.remove()}),c.style.display="block",s.style.top="40vh",n="Play",p.innerHTML="",w.innerHTML="Score : ",i.innerHTML="0",p.classList.remove("messageStyle"),v())});const v=()=>{const l=()=>{if(n!="Play")return;document.querySelectorAll(".showPipe").forEach(t=>{let e=t.getBoundingClientRect();if(r=s.getBoundingClientRect(),e.right<=0)t.remove();else if(r.left<e.left+e.width&&r.left+r.width>e.left&&r.top<e.top+e.height&&r.top+r.height>e.top){g(),n="End",p.innerHTML=`Game Over! <br><br> 

                    Score: ${Number(i.innerHTML)} <br><br> 

                    Press "ENTER" To Restart Game <br><br>
                    
                    <a href="index.html"><button class="return__backToMain">MENU</button></a>
                    <a href="scoreboard.html"><button class="return__backToScore">SCORE</button></a>`,p.classList.add("messageStyle"),c.style.display="none";return}else e.right<r.left&&e.right+y>=r.left&&t.increase_score=="1"&&(i.innerHTML=+i.innerHTML+1),t.style.left=e.left-y+"px"}),requestAnimationFrame(l)};requestAnimationFrame(l);let a=0;const m=()=>{if(n!="Play")return;a=a+L;const o=new URL(""+new URL("../flappybirdv1.gif",import.meta.url).href,import.meta.url).href;document.addEventListener("keydown",e=>{(e.key=="ArrowUp"||e.key==" ")&&(c.src=`${o}`,a=-7.6)}),document.addEventListener("keyup",e=>{(e.key=="ArrowUp"||e.key==" ")&&(c.src=`${o}`)});let t=h.getBoundingClientRect();if(r.top<=t.top&&r.bottom<=t.top||r.top>=t.bottom&&r.bottom>t.bottom){g(),n="End",console.log("ENDED"),window.location.reload();return}s.style.top=r.top+a+"px",r=s.getBoundingClientRect(),requestAnimationFrame(m)};requestAnimationFrame(m);let d=0,f=35;const u=()=>{let o=document.createElement("div"),t=document.createElement("div");if(n=="Play"){if(d>115){d=0;let e=Math.floor(Math.random()*43)+8;const b=new URL(""+new URL("../pipe1.png",import.meta.url).href,import.meta.url).href,S=new URL(""+new URL("../pipe2.png",import.meta.url).href,import.meta.url).href;t.className="showPipe",t.style.background=`url(${S}) center center`,t.style.backgroundSize="100% 100%",t.style.top=e-70+"vh",t.style.left="100vw",document.body.appendChild(t),o.className="showPipe",o.style.top=e+f+"vh",o.style.background=`url(${b}) center center`,o.style.backgroundSize="100% 100%",o.style.width="90px",o.style.left="100vw",o.increase_score="1",document.body.appendChild(o)}d++,requestAnimationFrame(u)}};requestAnimationFrame(u)},g=()=>{if(localStorage){localStorage.setItem("currentScore",String(i.innerHTML));const l=localStorage.getItem("highScore");i.innerHTML>l&&localStorage.setItem("highScore",String(i.innerHTML))}else alert("NO LOCAL STORAGE!")};
