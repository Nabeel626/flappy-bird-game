import"./style-CmyKVfVI.js";let y=3,f=.2,s=document.querySelector(".character-bird"),d=document.querySelector("#characterBird"),h=document.querySelector(".container"),e=s.getBoundingClientRect();h.getBoundingClientRect();let i=document.querySelector(".score_val"),c=document.querySelector(".message"),S=document.querySelector(".score_title"),n="Start";d.style.display="none";c.classList.add("messageStyle");document.addEventListener("keydown",l=>{l.key=="Enter"&&n!="Play"&&(document.querySelectorAll(".showPipe").forEach(a=>{a.remove()}),d.style.display="block",s.style.top="40vh",n="Play",c.innerHTML="",S.innerHTML="Score : ",i.innerHTML="0",c.classList.remove("messageStyle"),v())});const v=()=>{const l=()=>{if(n!="Play")return;document.querySelectorAll(".showPipe").forEach(r=>{let o=r.getBoundingClientRect();e=s.getBoundingClientRect(),o.right<=0?r.remove():e.left<o.left+o.width&&e.left+e.width>o.left&&e.top<o.top+o.height&&e.top+e.height>o.top?(g(),n="End",c.innerHTML=`Game Over! <br><br> 

                    Score: ${Number(i.innerHTML)} <br><br> 

                    Press "ENTER" To Restart Game <br><br>
                    
                    <a href="index.html"><button class="return__backToMain">MENU</button></a>
                    <a href="scoreboard.html"><button class="return__backToScore">SCORE</button></a>`,c.classList.add("messageStyle"),d.style.display="none"):(o.right<e.left&&o.right+y>=e.left&&r.increase_score=="1"&&(i.innerHTML=+i.innerHTML+1),r.style.left=o.left-y+"px")}),requestAnimationFrame(l)};requestAnimationFrame(l);let a=0;const m=()=>{if(n!="Play")return;a=a+f,document.addEventListener("keydown",r=>{(r.key=="ArrowUp"||r.key==" ")&&(d.src="./images/flappybirdv1.gif",a=-7.6)});let t=h.getBoundingClientRect();(e.top<=t.top&&e.bottom<=t.top||e.top>=t.bottom&&e.bottom>t.bottom)&&(g(),n="End",console.log("ENDED"),window.location.reload()),s.style.top=e.top+a+"px",e=s.getBoundingClientRect(),requestAnimationFrame(m)};requestAnimationFrame(m);let p=0,b=35;const u=()=>{let t=document.createElement("div"),r=document.createElement("div");if(n=="Play"){if(p>115){p=0;let o=Math.floor(Math.random()*43)+8;r.className="showPipe",r.style.background='url("./images/pipe2.png") center center',r.style.backgroundSize="100% 100%",r.style.top=o-70+"vh",r.style.left="100vw",document.body.appendChild(r),t.className="showPipe",t.style.top=o+b+"vh",t.style.background='url("./images/pipe1.png") center center',t.style.backgroundSize="100% 100%",t.style.width="90px",t.style.left="100vw",t.increase_score="1",document.body.appendChild(t)}p++,requestAnimationFrame(u)}};requestAnimationFrame(u)},g=()=>{if(localStorage){localStorage.setItem("currentScore",String(i.innerHTML));const l=localStorage.getItem("highScore");i.innerHTML>l&&localStorage.setItem("highScore",String(i.innerHTML))}else alert("NO LOCAL STORAGE!")};
